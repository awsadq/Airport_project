<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Airport Travel</title>

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <link rel="stylesheet" href="/project_css/index.css">
</head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="#" th:href="@{/}">Airport Travel</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-left">
                <li><a href="/flights">–†–µ–π—Å—ã</a></li>
                <li><a href="/booking">–ë—Ä–æ–Ω—å –±–∏–ª–µ—Ç–æ–≤</a></li>
                <li><a href="/services">–£—Å–ª—É–≥–∏</a></li>
                <li><a href="/profile">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li sec:authorize="isAuthenticated()">
                    <a href="#" onclick="confirmLogout()" class="btn-logout">–í—ã–π—Ç–∏</a>
                </li>
            </ul>
        </div>

    </div>
</nav>

<header class="hero">
    <div class="hero-content">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Airport Travel!</h1>
        <p>–ë–µ—Å—à–æ–≤–Ω—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–º—Ñ–æ—Ä—Ç</p>

        <div class="auth-buttons">
            <a href="/login" class="btn-auth btn-login">–í–æ–π—Ç–∏</a>
            <a href="/registration" class="btn-auth btn-register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </div>
    </div>
</header>

<div class="slider-wrapper">
    <button class="slider-btn prev" onclick="moveSlide(-1)">
        <i class="fa-solid fa-chevron-left"></i>
    </button>

    <div class="slider-container">
        <div class="slider">
            <div class="slide">‚úàÔ∏è –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤–∏–∞–±–∏–ª–µ—Ç–æ–≤</div>
            <div class="slide">üõÇ –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–µ–π—Å</div>
            <div class="slide">üõãÔ∏è –ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π –∑–∞–ª –æ–∂–∏–¥–∞–Ω–∏—è</div>
            <div class="slide">üõÑ –ë–∞–≥–∞–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å</div>
            <div class="slide">üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç—É</div>
        </div>
    </div>

    <button class="slider-btn next" onclick="moveSlide(1)">
        <i class="fa-solid fa-chevron-right"></i>
    </button>
</div>

<div class="dots">
    <span class="dot" onclick="currentSlide(0)"></span>
    <span class="dot" onclick="currentSlide(1)"></span>
    <span class="dot" onclick="currentSlide(2)"></span>
    <span class="dot" onclick="currentSlide(3)"></span>
    <span class="dot" onclick="currentSlide(4)"></span>
</div>

<section class="about-section">
    <div class="about-content">
        <img src="https://storage.yandexcloud.net/newspressfeed/wp-content/uploads/2020/06/about-us.jpg" alt="–û –Ω–∞—Å" class="about-img">
        <div class="about-text">
            <h2>–û –∫–æ–º–ø–∞–Ω–∏–∏</h2>
            <p>Airport Travel ‚Äî —ç—Ç–æ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –∫–æ–º—Ñ–æ—Ä—Ç –∏ –∑–∞–±–æ—Ç–∞ –æ –∫–∞–∂–¥–æ–º –ø–∞—Å—Å–∞–∂–∏—Ä–µ.</p>
            <a href="/about" class="about-button">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
        </div>
    </div>
</section>


<section class="map-section">
    <h2 class="map-title">–ê—ç—Ä–æ–ø–æ—Ä—Ç—ã –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞</h2>
    <div id="map"></div>
</section>


<section class="flights-cta">
    <div class="flights-cta-content">
        <h2 class="flights-title">
            ‚úàÔ∏è –ì–æ—Ç–æ–≤—ã –∫ –ø–æ–ª—ë—Ç—É? –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ–π—Å—ã
        </h2>
        <a href="/flights" class="flights-button">
            –°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–π—Å—ã
        </a>
    </div>
</section>

<section class="news-section">
    <h2 class="news-title-centered">–ù–û–í–û–°–¢–ò</h2>
    <div class="news-container">
        <div class="news-card" th:each="item : ${news}">
            <img th:src="${item.imageUrl}" alt="–ù–æ–≤–æ—Å—Ç—å" class="news-image">
            <div class="news-content">
                <p class="news-date" th:text="${item.publishedAt}"></p>
                <h4 class="news-header" th:text="${item.title}"></h4>
                <p class="news-description" th:text="${item.description}"></p>
            </div>
        </div>
    </div>
</section>

<footer class="footer mt-5 text-light">
    <div class="container py-4">
        <div class="row">
            <div class="col-md-6 mb-3 mb-md-0">
                <h5 class="footer-title">–ê—ç—Ä–æ–ø–æ—Ä—Ç –û–Ω–ª–∞–π–Ω</h5>
                <p class="small">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π –∞—ç—Ä–æ–ø–æ—Ä—Ç! –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –∫–æ–º—Ñ–æ—Ä—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.</p>
            </div>
            <div class="col-md-6 text-md-end">
                <ul class="nav justify-content-md-end">
                    <li class="nav-item"><a href="/flights" class="nav-link px-2 link-light">–†–µ–π—Å—ã</a></li>
                    <li class="nav-item"><a href="/booking" class="nav-link px-2 link-light">–ë—Ä–æ–Ω—å –±–∏–ª–µ—Ç–æ–≤</a></li>
                    <li class="nav-item"><a href="/services" class="nav-link px-2 link-light">–£—Å–ª—É–≥–∏</a></li>
                    <li class="nav-item"><a href="/profile" class="nav-link px-2 link-light">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
                </ul>
            </div>
        </div>
        <hr class="border-top border-light mt-4">
        <div class="text-center small">
            ¬© <?= date("Y") ?> Airport Online. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
        </div>
    </div>
</footer>


<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script>
    function confirmLogout() {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞?')) {
            window.location.href = '/logout';
        }
    }
</script>

<script>
    let slideIndex = 0;
    const slides = document.querySelectorAll('.slide');
    const slider = document.querySelector('.slider');
    const dots = document.querySelectorAll('.dot');
    const totalSlides = slides.length;

    function moveSlide(n) {
        slideIndex += n;
        if (slideIndex >= totalSlides) slideIndex = 0;
        if (slideIndex < 0) slideIndex = totalSlides - 1;
        updateSlider();
    }

    function currentSlide(n) {
        slideIndex = n;
        updateSlider();
    }

    function updateSlider() {
        slider.style.transform = `translateX(${-slideIndex * 20}%)`;
        dots.forEach(dot => dot.classList.remove('active'));
        dots[slideIndex]?.classList.add('active');
    }

    setInterval(() => moveSlide(1), 5000);
    updateSlider();

</script>

<script>
    const map = L.map('map').setView([41.5, 74.6], 7); // –¶–µ–Ω—Ç—Ä –Ω–∞ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω

    // –°–≤–µ—Ç–ª–∞—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–µ–º–∞
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/">CARTO</a>',
        subdomains: 'abcd',
        maxZoom: 19
    }).addTo(map);

    // –ú–∞—Ä–∫–µ—Ä—ã –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤
    const airports = [
        { name: "–ú–∞–Ω–∞—Å (–ë–∏—à–∫–µ–∫)", coords: [43.061, 74.477] },
        { name: "–û—à—Å–∫–∏–π –∞—ç—Ä–æ–ø–æ—Ä—Ç", coords: [40.608, 72.793] },
        { name: "–ò—Å—Å—ã–∫-–ö—É–ª—å", coords: [42.585, 76.713] },
        { name: "–ë–∞—Ç–∫–µ–Ω", coords: [40.063, 70.815] },
        { name: "–î–∂–∞–ª–∞–ª-–ê–±–∞–¥", coords: [40.942, 73.002] }
    ];

    airports.forEach(airport => {
        L.marker(airport.coords).addTo(map).bindPopup(`<b>${airport.name}</b>`);
    });
</script>


</body>
</html>
